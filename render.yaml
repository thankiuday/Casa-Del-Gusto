# Render Blueprint for Restaurant Theme
# This file configures automatic deployment on Render
# 
# IMPORTANT: If using manual Static Site deployment (not Blueprint),
# you MUST configure the rewrite rule manually in Render Dashboard:
# Settings → Redirects & Rewrites → Add: /* → /index.html (Type: Rewrite)

services:
  - type: web
    name: restaurant-theme
    env: static
    buildCommand: npm install && npm run build
    staticPublishPath: ./dist
    headers:
      - path: /*
        name: X-Robots-Tag
        value: noindex
      - path: /*
        name: Cache-Control
        value: public, max-age=3600
    routes:
      # SPA Routing: All routes should serve index.html for React Router
      # This fixes the 404 error when refreshing pages like /menu, /about, etc.
      # NOTE: This only works if deploying via Blueprint. For manual deployment,
      # configure the rewrite rule in Render Dashboard instead.
      - type: rewrite
        source: /*
        destination: /index.html
